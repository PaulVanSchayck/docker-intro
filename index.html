<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Intro to Docker</title>

		<meta name="description" content="Intro to Docker">
		<meta name="author" content="Docker Inc, adapted by Jon Brouse">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/docker.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

		<div class="slides">
	
<section>
	<h1>Intro to Docker</h1>
	<div>
		<img src="docker-img/docker-square.jpg" style="width: 425px; height: 376px; max-height: none; max-width: none;"/>
		<br/>
	</div>
	<div>
		This is a fork of a presentaion originally created by John Lewis (<a href="http://www.github.com/pointful">pointful</a>)<br/>

		The contents of the the slides have been <i>liberally borrowed</i><br/>
		from <a href="http://www.slideshare.net/dotCloud">Docker Slideshare</a> materials.<br/>
		Thanks to everyone at Docker, Inc!<br/>
	</div>
</section>

<section>
	<h2>Agenda</h2><br>
	<h4>Introduction</h4>
	<h4>The Challenge</h4>
	<h4>Docker Containers</h4>
	<h4>Docker Images</h4>
	<h4>Working With Docker and Its Tools</h4>
	<h4>Demo</h4>
</section>

<section>
	<img src="docker-img/dockerdockerdocker.bmp">
</section>

<section>
	<h2>Docker Inc.</h2>
	<div style="position: absolute; left: 1%; width: 48%;" class="absolute-element">
		<p><b>About Docker Inc.</b></p>
		<ul>
			<ul style="font-size: 24px;">
				<li>Company behind the Docker ecosystem</li>
				<li>Launched in March 2013</li>
				<li>HQ in San Francisco</li>
				<li>Originally dotCloud</li>
				<li>Released Docker 1.0 in June of 2014</li>
			</ul>
			<br>
			<p align="center"><b>By the numbers.</b></p>
			<ul style="font-size: 24px;">
				<li>20,000+ GitHub stars</li>
				<li>200M+ Docker Engine downloads</li>
				<li>100,000+ "Dockerized" applications in the Docker Hub Registry</li>
				<li>170+ Docker Meetup Groups in 50 countries</li>
				<li>900+ community contributors</li>
				<li>75,000 third-party projects on GitHub using Docker</li>

			</ul>
		</ul>
	</div>
	<div style="position: absolute; left: 52%; width: 48%;" class="absolute-element">
		<img src="docker-img/containership_gg.jpg">
	</div>	
</section>

<section>
	<h2>What is Docker?</h2>
	<h4>
		<p class="fragment" data-fragment-index="0">
			<b>An open platform for developers and sysadmins to <br>
				build, ship, and run distributed applications</b><br/><br/>
		</p>
	</h4>
	<div style="position: absolute; left: 1%; width: 48%;" class="absolute-element">
		<p class="fragment" data-fragment-index="1"><b>Docker Engine</b></p>
		<ul style="font-size: 24px;" class="fragment" data-fragment-index="2">
			<li>A portable, lightweight application <br>
				runtime and packaging tool. </li>
			<li>Written in Golang.</li>
		</ul>
	</div>
	<div style="position: absolute; left: 52%; width: 48%;" class="absolute-element">
		<p class="fragment" data-fragment-index="1"><b>Docker Hub</b></p>
		<ul style="font-size: 24px;" class="fragment" data-fragment-index="2">
			<li>A cloud service for sharing applications </br>
				and automating workflows.</li>
		</ul>			
	</div>
	<br><br><br><br>
	<div>
		<p class="fragment" data-fragment-index="2"><img src="docker-img/build-ship-run.png" /><br/></p>
	</div>
</section>

<section>
	<h2>Why do we care?</h2>
	<div style="position: absolute; left: 1%; width: 48%;" class="absolute-element">
		<p><img src="docker-img/devs.png"></br>
			<b>Devs</b></p>
		<ul style="font-size: 24px;" class="fragment" data-fragment-index="2">
			<li>Clean portable runtime environment</li>
			<li>No worries about missing dependencies, packages, etc.</li>
			<li>A VM without the overhead of a VM. </li>
			<li>Instant replay and reset of image snapshots</li>
		</ul>
	</div>
	<div style="position: absolute; left: 52%; width: 48%;" class="absolute-element">
		<p><img src="docker-img/ops.png"></br>
		<b>Ops</b></p>
		<ul style="font-size: 24px;" class="fragment" data-fragment-index="2">
			<li>Make entire lifecycle more efficient, consistent, and repeatable</li>
			<li>Eliminate inconsistencies between environments</li>
			<li>Because the containers are so lightweight they address significant performance, cost, deployment, and portability issues normally associated with VMs</li>
		</ul>			
	</div>
</section>

<section>
	<h2>Agenda</h2><br>
	<h4><p style="opacity:.25">Introduction</p></h4>
	<h4>The Challenge</h4>
	<h4>Docker Containers</h4>
	<h4>Docker Images</h4>
	<h4>Working With Docker and Its Tools</h4>
	<h4>Demo</h4>
</section>

<section>
	<img src="docker-img/worked-fine-in-dev.jpg">
</section>

<section>
	<h2>The Challenge</h2>
	<p>
		<img src="docker-img/the-challenge.png">
	</p>
</section>

<section>
	<h2>The Matrix from Hell</h2>
	<p>
		<img src="docker-img/the-matrix-from-hell.png">
	</p>
</section>

<section>
	<h2>Cargo Transport Pre-1960</h2>
	<p>
		<img src="docker-img/cargo-transport-pre-1960.png">
	</p>
</section>

<section>
	<h2>Also a Matrix from Hell</h2>
	<p>
		<img src="docker-img/also-a-matrix-from-hell.png">
	</p>
</section>

<section>
	<h2>Solution: Intermodal Shipping Container</h2>
	<p>
		<img src="docker-img/intermodal-shipping-container.png">
	</p>
</section>

<section>
	<h2>Docker is a Container System for Code</h2>
	<p>
		<img src="docker-img/shipping-container-for-code.png">
	</p>
</section>

<section>
	<h2>Docker Eliminates the Matrix from Hell</h2>
	<p>
		<img src="docker-img/eliminates-matrix-from-hell.png">
	</p>
</section>

<section>
	<h2>Agenda</h2><br>
	<h4><p style="opacity:.25">Introduction</p></h4>
	<h4><p style="opacity:.25">The Challenge</p></h4>
	<h4>Docker Containers</h4>
	<h4>Docker Images</h4>
	<h4>Working With Docker and Its Tools</h4>
	<h4>Demo</h4>
</section>

<section
	<h2></h2>
	<div style="position: absolute; left: 1%; width: 48%;" class="absolute-element">
			<h2>Containers</h2>
			How you <b>run</b> your application
	</div>
	<div style="position: absolute; left: 52%; width: 48%;" class="absolute-element">
		<h2>Images</h2>
			How you <b>store</b> your application		
	</div>
</section>

<section>
	<h2>Virtual Machines vs Containers</h2>
	<p>
		<img src="docker-img/containers-vs-vms.png">
	</p>
</section>

<section>
	<h2>Containers and Virtual Machines Are Complementary</h2>
		<ul><br>
			<li class="fragment" data-fragment-index="1">Virtual Machines are best used to allocate chunks of hardware resources</li>
			<li class="fragment" data-fragment-index="2">Containers operate at the process level, which makes them very lightweight<br>
				and perfect as a unit of software delievery</li><br><br><br><br>
		</ul>
</section>

<section>
	<h2>Under the Hood</h2><br><br>
	<img src="docker-img/underthehood.jpg">
</section>

<section>
	<h2>The Tech That Makes A Container</h2>
		<ul class="fragment" data-fragment-index="1"><br>
			<li><b>namespaces</b> - provide isolation</li>
			<li><b>cgroups</b>- provide resource control</li>
			<li><b>copy-on-write file system</b> - layered file systems that are fast and require limited disk usage</li>
			<li><b>libcontainer</b> - a native Linux container format that Docker</li>
			<br><br><br><br>
		</ul>
</section>

<section>
	<h2>Linux Kernel Namespaces</h2><br>
		<ul>
			<li class="fragment" data-fragment-index="1"><b>Mount:</b> provides file system isolation. Each container is its own root filesystem</li>
			<li class="fragment" data-fragment-index="2"><b>Process:</b> each container runs in its own process environment</li>
			<li class="fragment" data-fragment-index="3"><b>Network:</b> seperate virtual interfaces and IP addressing between containers</li>
			<li class="fragment" data-fragment-index="4"><b>UTS:</b> allows a container to have it's own hostname independently from the host system along with other containers</li>
			<li class="fragment" data-fragment-index="5"><b>IPC:</b> used for isolating interprocess communication, things like SysV message queues</li>
			<li class="fragment" data-fragment-index="6"><b>User:</b> allows for seperate users in the container and run as root in the contaier but not on the host's file system</li>
		</ul>
</section>	

<section>
	<h2>Control Groups (cgroups)</h2>
		<ul>
			<li class="fragment" data-fragment-index="1">Resource isolation and grouping</li>
			<li class="fragment" data-fragment-index="2">Enables you to place limits and contraints on a container's resources</li>
			<li class="fragment" data-fragment-index="3">The following resources are allocated to each Docker container using cgroups:</li>
			<ul>
				<li class="fragment" data-fragment-index="3">Memory</li>
				<li class="fragment" data-fragment-index="3">CPU</li>
				<li class="fragment" data-fragment-index="3">Block I/O</li>
				<li class="fragment" data-fragment-index="3">Devices</li>
			</ul>
		</ul>
</section>

<section>
	<h2>Copy-On-Write</h2>
		<img src="docker-img/copy-on-write.png">
</section>

<section>
	<h2>libcontainer</h2>
	Libcontainer provides a native Go implementation for creating containers with namespaces, cgroups, capabilities, and filesystem access controls. It allows you to manage the lifecycle of the container performing additional operations after the container is created.
</section>

<section>
	<h2>Agenda</h2><br>
	<h4><p style="opacity:.25">Introduction</p></h4>
	<h4><p style="opacity:.25">The Challenge</p></h4>
	<h4><p style="opacity:.25">Docker Containers</p></h4>
	<h4>Docker Images</h4>
	<h4>Working With Docker and Its Tools</h4>
	<h4>Demo</h4>
</section>

<section
	<h2></h2>
	<div style="position: absolute; left: 1%; width: 48%;" class="absolute-element">
			<h2>Containers</h2>
			How you <b>run</b> your application
	</div>
	<div style="position: absolute; left: 52%; width: 48%;" class="absolute-element">
		<h2>Images</h2>
			How you <b>store</b> your application		
	</div>
</section>

<section>
	<h2>Docker Image</h2>

	<div style="position: absolute; left: 1%; width: 48%;" class="absolute-element">
		<ul>
			<li class="fragment" data-fragment-index="1">You launch containers from images</li>
			<li class="fragment" data-fragment-index="2">An image is made up of layered images (file systems)</li>
			<li class="fragment" data-fragment-index="3">UnionFS creates a union mount which overlays the file systems</li>
			<li class="fragment" data-fragment-index="4">When you remove a file it is marked as deleted and not actually deleted. The files will still exist in the layer where they were last present</li>
			<li class="fragment" data-fragment-index="5">When launched, the image apears to be a flat filesystem</li>
			<li class="fragment" data-fragment-index="6">Every line in a Dockerfile creates a new image</li>
		</ul>
	</div>
	<div style="position: absolute; left: 52%; width: 48%;" class="absolute-element">
		<img src="docker-img/docker-image.png">
	</div>

</section>

<section>
	<h2>Size Matters</h2><br>
	<div align="left">Here is some data on commonly used images:<br><br>
	<ul>
		<li><code>scratch</code> - this is the ultimate base image and it has 0 files and 0 size</li>
		<li><code>busybox</code> - a minimal Unix weighing in at 2.5 MB and around 10000 files</li>
		<li><code>debian:jessie</code> - the latest Debian is 122 MB and around 18000 files</li>
		<li><code>ubuntu:14.04</code> - Ubuntu is 197 MB and has around 23000 files</li>
	</ul>
</div>
</section>

<section>
	<h2>Dockerfile </h2>
	<pre>
FROM debian:wheezy

MAINTAINER NGINX Docker Maintainers "docker-maint@nginx.com"

RUN apt-key adv --keyserver pgp.mit.edu --recv-keys 573BFD6B3D8FBC641079A6ABABF5BD827BD9BF62
RUN echo "deb http://nginx.org/packages/mainline/debian/ wheezy nginx" >> /etc/apt/sources.list

ENV NGINX_VERSION 1.7.11-1~wheezy

RUN apt-get update && \
    apt-get install -y ca-certificates nginx=${NGINX_VERSION} && \
    rm -rf /var/lib/apt/lists/*

# forward request and error logs to docker log collector
RUN ln -sf /dev/stdout /var/log/nginx/access.log
RUN ln -sf /dev/stderr /var/log/nginx/error.log

COPY www-content /var/www/

VOLUME ["/var/cache/nginx"]

EXPOSE 80 443

CMD ["nginx", "-g", "daemon off;"]
	</pre>
</section>

<section>
	<h2>Docker Client-Server</h2>
	<img src="docker-img/overview.png">
</section>

<section>
	<h2>The Basics of a Docker System</h2>
	<p>
		<img src="docker-img/basics-of-docker-system.png">
	</p>
</section>

<section>
	<h2>Let's review the components</h2><br>
		<ul>
			<li>Docker Client - allows users to create images and run containers</li>
			<li>Docker Daemon - listens for the client and talks to libcontainer</li>
			<li>libcontainer - talks to the host's kernel and sets up namespaces and cgroups</li>
			<li>Registry - hosts images</li>
		</ul>
</section>

<section>
	<h2>Dockerfile for a Node Base Image</h2>
	<img src="docker-img/nodeimage02.png">
</section>

<section>
	<h2>Building a Node Application</h2><br>
	<img src="docker-img/nodeimage01.png">
</section>

<section>
	<h2>Zonoff's Docker Common Repository</h2>
	<img src="docker-img/nodeimage03.png">
</section>

<section>
	<h2>Pets vs Cattle</h2>
</section>

<section>
	<img src="docker-img/pets.jpg">
</section>

<section>
		<img src="docker-img/cattle.jpg" width="55%" height="55%">
</section>

<section>
	<h2>Changes and Updates</h2>
	<p>
		<img src="docker-img/changes-and-updates.png">
	</p>
</section>

<section>
	<h2>Immutable Infrastructure</h2>
			<ul style="font-size: 24px;">
				<li class="fragment" data-fragment-index="1">Servers are deployed once and not changed</li>
				<li class="fragment" data-fragment-index="2">If they are changed for some reason, they are marked for garbage collection</li>
				<li class="fragment" data-fragment-index="3">Software is never upgraded on an existing server</li>
				<li class="fragment" data-fragment-index="4">Instead the server is replaced with a new functionally equivalent server</li>
			</ul>	
</section>

<section>
	<h2>More Technical Details</h2>
	<div style="position: absolute; left: 1%; top: 100px; width: 48%;" class="absolute-element">
		<p><b>Why</b></p>
		<ul style="text-align: left; line-height=1.1em;">
			<li class="fragment" data-fragment-index="0">Run everywhere</li>
			<ul style="font-size: 24px;" class="fragment" data-fragment-index="0">
				<li>Regardless of kernel version</li>
				<li>Regardless of host distro</li>
				<li>Physical or virtual, cloud or not</li>
				<li>Container and host architecture must match...</li>
			</ul>
			<li class="fragment" data-fragment-index="1">Run anything</li>
			<ul style="font-size: 24px;" class="fragment" data-fragment-index="1">
				<li>If it can run on the host, it can run in the container</li>
				<li>If it can on a Linux kernel, it can run</li>
			</ul>
		</ul>
	</div>
	<div style="position: absolute; left: 52%; top: 100px; width: 48%;" class="absolute-element">
		<p><b>What</b></p>
		<ul style="text-align: left; line-height=1.1em;">
			<li class="fragment" data-fragment-index="2">High level: a lightweight VM</li>
			<ul style="font-size: 24px;" class="fragment" data-fragment-index="2">
				<li>Own process space</li>
				<li>Own network interface</li>
				<li>Can run stuff as root</li>
				<li>Can have its own /sbin/init (different from host)</li>
				<li>&lt;&lt;machine container&gt;&gt;</li>
			</ul>
			<li class="fragment" data-fragment-index="3">Low level: chroot on steroids</li>
			<ul style="font-size: 24px;" class="fragment" data-fragment-index="3">
				<li>Can also <i>not </i>have its own /sbin/init</li>
				<li>Container = isolated processes</li>
				<li>Share kernel with host</li>
				<liNo device emulation</li>
				<li>&lt;&lt;application container&gt;&gt;</li>
			</ul>
		</ul>
	</div>
</section>

<section>
	<h2>Docker Compose</h2>
		<p>Compose is a tool for defining and running complex applications with Docker. With Compose, you define a multi-container application in a single file, then spin your application up in a single command which does everything that needs to be done to get it running.</p>
</section>

<section>
	<h1>Demo Time</h1>
</section>

<section>
	<img src="docker-img/demo01.gif">
</section>	

<section>
	<img src="docker-img/demo02.gif">
</section>

<section>
	<img src="docker-img/demo03.gif">
</section>

<section>
	<h2>Want to learn more?</h2>
	<div style="position: absolute; left: 1%; top: 100px; width: 48%;" class="absolute-element">
		<p><b>Resources</b></p>
		<ul style="text-align: left; line-height=1.1em;">
		<li><a href="https://docs.docker.com/">Official Docker Docs</a></li>
		<li><a href="https://www.docker.com/tryit/">Interactive 10-minute Tutorial</a></li>
		<li><a href="https://github.com/wsargent/docker-cheat-sheet">Docker Cheat Sheet</a></li>
		<li><a href="http://crosbymichael.com/creating-containers-part-1.html">Deep dive into containers</a></li>
		<li><a href="https://github.com/veggiemonk/awesome-docker">**Curated list of Docker links**</a></li>
		</ul>
	</div>
	<div style="position: absolute; left: 52%; top: 100px; width: 48%;" class="absolute-element">
		<p><b>Get Social</b></p>
		<ul style="text-align: left; line-height=1.1em;">
			<li>Github: <a href="https://github.com/docker">docker</a></li>
			<li>IRC: freenode #docker</li>
			<li>Google Group: <a href="https://groups.google.com/forum/#!forum/docker-user">docker-user</a></li>
			<li>Google Group: <a href="https://groups.google.com/forum/#!forum/docker-dev">docker-dev</a></li>
			<li>Twitter: <a href="http://twitter.com/docker">@docker</a></li>
			<li>Meetups: <a href="https://www.docker.com/community/meetups/">Docker Meetups</a></li>
		</ul>
	</div>
</section>



</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				
				width: 1366,
				height: 768,
				margin: 0.1,
				minScale: 0.2,
				maxScale: 1.2,
	
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});
			Reveal.configure({ slideNumber: true });

		</script>

	</body>
</html>
